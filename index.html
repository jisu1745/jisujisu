<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>K-Haters: Expressive powers of online K-hate speeches</title>
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
            font-weight: 500;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated Background with Video */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            background: #000000;
        }

        .video-background {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
            filter: blur(8px);
            z-index: 1;
        }

        .dithering-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 1px,
                    rgba(0, 0, 0, 0.7) 1px,
                    rgba(0, 0, 0, 0.7) 2px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 1px,
                    rgba(0, 0, 0, 0.7) 1px,
                    rgba(0, 0, 0, 0.7) 2px
                );
            opacity: 0.8;
            mix-blend-mode: multiply;
            pointer-events: none;
            z-index: 2;
        }

        .noise-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-conic-gradient(from 0deg, 
                    #000 0deg 2deg, 
                    transparent 2deg 4deg),
                repeating-radial-gradient(
                    circle at 50% 50%,
                    rgba(255, 255, 255, 0.1) 0px,
                    transparent 1px,
                    rgba(0, 0, 0, 0.1) 2px
                );
            background-size: 4px 4px, 3px 3px;
            opacity: 0.6;
            mix-blend-mode: overlay;
            pointer-events: none;
            animation: grain 0.2s steps(4) infinite;
            z-index: 3;
        }

        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5%, -5%); }
            20% { transform: translate(-10%, 5%); }
            30% { transform: translate(5%, -10%); }
            40% { transform: translate(-5%, 15%); }
            50% { transform: translate(-10%, 5%); }
            60% { transform: translate(15%, 0%); }
            70% { transform: translate(0%, 15%); }
            80% { transform: translate(-15%, 10%); }
            90% { transform: translate(10%, -5%); }
        }

        .gradient-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0) 0%,
                rgba(0, 0, 0, 0.3) 100%
            );
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            position: relative;
        }

        .logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo h1 {
            font-weight: 500;
            font-size: 2.5em;
            letter-spacing: 3px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .logo .subtitle {
            font-size: 1.5em;
            font-style: italic;
            text-shadow: 1px 1px 2px #000;
        }

        .header-text {
            text-align: center;
            margin: 40px 0;
            padding: 20px;
            border-top: 2px solid transparent;
            border-bottom: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
        }

        .header-text h2 {
            font-size: 1em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px #000;
        }

        .header-text p {
            font-size: 1.1em;
            line-height: 1.8;
            margin: 10px 0;
        }

        .header-text .description {
            margin: 30px 0;
            padding: 20px 0;
        }

        .header-text .description p {
            font-size: 0.95em;
            text-align: left;
        }

        .header-text .data-info {
            margin: 30px 0;
            padding: 20px 0;
        }

        .header-text .data-info p {
            font-size: 0.9em;
            text-align: left;
        }

        .header-text .data-info a {
            color: #fff;
            text-decoration: underline;
        }

        .ethical-note {
            margin: 40px 0;
            padding: 30px;
            background: rgba(255, 0, 0, 0.05);
            border-radius: 10px;
            border: 1px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
        }

        .ethical-note p {
            font-size: 0.9em;
            line-height: 1.8;
            margin: 15px 0;
            text-align: left;
        }

        .data-vis-card {
            display: block;
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            padding: 30px;
            margin: 50px 0;
            text-decoration: none;
            transition: all .3s ease;
        }

        .data-vis-card:hover {
            background: rgba(255, 0, 0, 0.2);
            transform: scale(1.02);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.6);
        }

        .data-vis-thumbnail {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, rgba(255, 0, 0, 0.3), rgba(0, 102, 255, 0.3));
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .data-vis-thumbnail::before {
            content: 'ğŸ“Š';
            font-size: 4em;
            opacity: .8;
            animation: pulse 2s ease-in-out infinite;
        }

        .data-vis-thumbnail::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1)
            }

            50% {
                transform: scale(1.1)
            }
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%)
            }

            100% {
                transform: translateX(100%)
            }
        }

        .data-vis-title {
            font-size: 1.8em;
            margin-bottom: 10px;
            text-align: center;
        }

        .data-vis-subtitle {
            font-size: 1.1em;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            line-height: 1.6;
        }

        .game-container {
            margin: 50px 0;
            padding: 30px;
        }

        .game-home {
            text-align: center;
        }

        .game-title {
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .game-subtitle {
            font-size: 1.2em;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .article-card {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all .3s ease;
            text-align: left;
        }

        .article-card:hover {
            background: rgba(255, 0, 0, 0.2);
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        }

        .article-category {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: linear-gradient(135deg, #ff0000, #0066ff);
            color: #000;
            border-radius: 20px;
            font-size: .9em;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .article-title {
            font-size: 1.2em;
            font-weight: 500;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .article-body {
            font-size: .9em;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .game-article-view {
            max-width: 800px;
            margin: 0 auto;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #fff;
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all .3s ease;
            font-weight: 500;
        }

        .back-button:hover {
            background: rgba(255, 0, 0, 0.2);
        }

        .article-content {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .comment-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .comment-textarea {
            width: 100%;
            padding: 15px;
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid #ff3366;
            border-radius: 5px;
            color: #fff;
            font-size: 1em;
            resize: vertical;
            min-height: 120px;
            margin-bottom: 15px;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
            font-family: inherit;
        }

        .comment-textarea:focus {
            outline: none;
            border-color: #0066ff;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5), 0 0 20px rgba(0, 102, 255, 0.5);
        }

        .submit-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff0000, #0066ff);
            color: #000;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: all .3s ease;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            font-family: inherit;
            font-weight: 500;
        }

        .submit-button:hover:not(:disabled) {
            background: linear-gradient(135deg, #ff3366, #3366ff);
            transform: scale(1.02);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.8);
        }

        .submit-button:disabled {
            opacity: .5;
            cursor: not-allowed;
        }

        .loading-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            text-align: center;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 0, 0, 0.3);
            border-top-color: #ff0000;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .result-screen {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .result-card {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            padding: 40px;
            margin-bottom: 20px;
        }

        .result-emoji {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 1.8em;
            font-weight: 500;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ff0000, #0066ff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .result-description {
            font-size: 1.1em;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .comment-preview {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
        }

        .comment-preview-label {
            font-size: .9em;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 10px;
        }

        .comment-preview-text {
            color: #fff;
            font-style: italic;
            line-height: 1.6;
        }

        .result-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .result-button {
            flex: 1;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all .3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .result-button-secondary {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .result-button-secondary:hover {
            background: rgba(255, 0, 0, 0.2);
        }

        .result-button-primary {
            background: linear-gradient(135deg, #ff0000, #0066ff);
            color: #000;
            border: none;
        }

        .result-button-primary:hover {
            background: linear-gradient(135deg, #ff3366, #3366ff);
        }

        .vampire-description {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1em;
            font-weight: bold;
        }

        .vampire-image {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: nowrap;
        }

        .vampire-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-shrink: 0;
            transition: all .3s ease;
        }

        .vampire-box:hover {
            transform: scale(1.05);
        }

        .vampire-placeholder {
            width: 150px;
            height: 180px;
            background: linear-gradient(135deg, #ff0000, #0066ff);
            border: 3px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.8);
            position: relative;
            overflow: hidden;
        }

        .vampire-placeholder::before {
            content: 'ğŸ¦‡';
            font-size: 3.5em;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .vampire-label {
            margin-top: 15px;
            font-size: 1em;
            font-weight: bold;
            text-align: center;
        }

        .poem {
            text-align: center;
            font-style: italic;
            line-height: 1.8;
            padding: 40px;
            font-size: 1.1em;
            background: rgba(255, 0, 0, 0.1);
            border-radius: 10px;
            margin: 40px 0;
        }

        .poem p {
            margin: 8px 0;
            color: #fff;
        }

        .footer {
            text-align: center;
            margin-top: 60px;
            padding: 20px;
            border-top: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            color: #fff;
        }

        .footer a {
            color: #fff;
            text-decoration: underline;
        }

        /* âœ… ëª¨ë¸ ìƒíƒœ í‘œì‹œ */
        #modelStatus {
            text-align: center;
            margin: 12px 0 0 0;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95em;
        }

        /* âœ… ì„¤ëª… ë“œë¡­ë‹¤ìš´ */
        /* âœ… ì„¤ëª… ë“œë¡­ë‹¤ìš´ */
        .info-drop {
            margin: 18px 0 28px 0;
            padding: 16px 18px;
            background: rgba(255, 0, 0, 0.06);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .info-drop details {
            margin: 10px 0;
            text-align: left;
            border-radius: 10px;
            overflow: hidden;
        }

        .info-drop summary {
            cursor: pointer;
            font-weight: 650;
            color: rgba(255, 255, 255, 0.95);
            list-style: none;
            user-select: none;

            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;

            padding: 12px 12px;
            border-radius: 10px;

            background: rgba(0, 0, 0, 0.18);
            border: 1px solid rgba(255, 255, 255, 0.14);
            transition: transform .15s ease, background .15s ease, border-color .15s ease;
        }

        .info-drop summary:hover {
            background: rgba(255, 0, 0, 0.10);
            border-color: rgba(255, 255, 255, 0.22);
            transform: translateY(-1px);
        }

        .info-drop summary::-webkit-details-marker {
            display: none;
        }

        /* ì˜¤ë¥¸ìª½ ì˜ì—­(íŒíŠ¸+ì•„ì´ì½˜) */
        .info-drop .summary-right {
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .info-drop summary .hint {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.65);
            font-weight: 500;
        }

        /* âœ… chevron ì•„ì´ì½˜ */
        .info-drop .chev {
            width: 22px;
            height: 22px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 999px;

            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.14);

            transition: transform .18s ease, background .18s ease, border-color .18s ease;
        }

        .info-drop .chev::before {
            content: "â–¾";
            /* í™”ì‚´í‘œ */
            font-size: 16px;
            line-height: 1;
            color: rgba(255, 255, 255, 0.85);
            transform: translateY(-1px);
        }

        .info-drop details[open] summary .chev {
            transform: rotate(180deg);
            background: rgba(255, 0, 0, 0.14);
            border-color: rgba(255, 255, 255, 0.22);
        }

        /* ë‚´ìš© ì˜ì—­ */
        .info-drop .content {
            margin-top: 0;
            padding: 12px 12px 14px 12px;
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.75;
            font-size: 0.95em;
        }

        .info-drop .content p {
            margin: 10px 0;
        }

        /* =========================
   âœ… Dropdown / Accordion (clear arrow)
   ========================= */
        .accordion {
            margin: 18px 0 28px 0;
        }

        details.khaters-drop {
            background: rgba(255, 0, 0, 0.08);
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #ff0000, #0066ff) 1;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 14px;
        }

        details.khaters-drop summary {
            list-style: none;
            cursor: pointer;
            padding: 16px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 14px;
            font-weight: 600;
            letter-spacing: 0.2px;
        }

        details.khaters-drop summary::-webkit-details-marker {
            display: none;
        }

        /* left label */
        .khaters-drop .sum-left {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05em;
        }

        /* right arrow chip */
        .khaters-drop .chev {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 34px;
            height: 34px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.18);
            flex: 0 0 auto;
            transition: transform .18s ease, background .18s ease;
        }

        .khaters-drop .chev svg {
            width: 18px;
            height: 18px;
            transform: rotate(0deg);
            transition: transform .18s ease;
            opacity: 0.95;
        }

        details.khaters-drop[open] .chev {
            background: rgba(0, 0, 0, 0.55);
        }

        details.khaters-drop[open] .chev svg {
            transform: rotate(180deg);
        }

        .khaters-drop .drop-body {
            padding: 18px 18px 20px 18px;
            border-top: 1px solid rgba(255, 255, 255, 0.14);
            color: rgba(255, 255, 255, 0.92);
            line-height: 1.75;
            font-size: 0.98em;
        }

        .khaters-drop .drop-body p {
            margin: 10px 0;
        }

        .khaters-drop .mini {
            font-size: 0.92em;
            color: rgba(255, 255, 255, 0.74);
        }

        /* =========================
   Figure layout (side-by-side)
   ========================= */
        .khaters-fig {
            margin-top: 18px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        @media (max-width: 760px) {
            .khaters-fig {
                grid-template-columns: 1fr;
            }
        }

        .khaters-fig figure {
            margin: 0;
            padding: 14px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.28);
            border: 1px solid rgba(255, 255, 255, 0.14);
        }

        .khaters-fig img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 8px;
        }

        /* ê³µí†µ ì¶œì²˜ ìº¡ì…˜ */
        .khaters-fig-source {
            margin-top: 14px;
            text-align: center;
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.75);
        }

        .khaters-fig-source a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: underline;
        }

        /* ğŸŒˆ Rainbow shimmer link */
        .rainbow-link {
            font-weight: 600;
            background: linear-gradient(90deg,
                    #ff3333,
                    #ffa4ff,
                    #9848ff,
                    #0000ff,
                    #00ffff,
                    #20ff00,
                    #f3ff00,
                    #ff3333);
            background-size: 300% 100%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
            animation: rainbowFlow 4s linear infinite;
            text-decoration: none;
            position: relative;
        }

        @keyframes rainbowFlow {
            0% {
                background-position: 0% 50%;
            }

            100% {
                background-position: 300% 50%;
            }
        }

        /* hover ì‹œ ì‚´ì§ ê°•ì¡° */
        .rainbow-link:hover {
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
        }
    </style>
</head>

<body>
    <!-- Animated Background with Video -->
    <div class="animated-background">
        <video class="video-background" autoplay loop muted playsinline preload="auto">
            <source src="index-background.mp4" type="video/mp4">
        </video>
        <div class="dithering-overlay"></div>
        <div class="noise-overlay"></div>
        <div class="gradient-layer"></div>
    </div>

    <div class="container">
        <div class="logo">
            <h1>K-Haters: Expressive powers of online K-hate speeches</h1>
            <div class="subtitle">â„¢</div>
        </div>

        <div class="header-text">
            <h2>í•œêµ­ì˜ ì˜¨ë¼ì¸ ê³µê°„ìƒì—ì„œ ë§ˆì£¼í•˜ëŠ” í˜ì˜¤ í‘œí˜„ë“¤ì˜ í‘œí˜„ì ì¸ ì—­ëŸ‰ì„ ìƒˆë¡œìš´ ê°ê°ì˜ ìì›ìœ¼ë¡œ êµ¬ì„±í•˜ê¸°</h2>
            <div class="description">
                <p>í•œêµ­ ì‚¬íšŒì˜ ì–¸ì–´ì  í­ë ¥ ì†ì— ë‚´ì¬í•œ 'ì–¸ì–´ì˜ í˜'ì„ íƒêµ¬í•˜ëŠ” ë°ì´í„°-ë¹„ì£¼ì–¼ ì‹¤í—˜ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.</p>
                <p>ìš°ë¦¬ëŠ” í˜ì˜¤í‘œí˜„ì„ ë‹¨ìˆœíˆ ë¹„íŒí•˜ê±°ë‚˜ ë¶„ë¥˜í•˜ëŠ” ë° ê·¸ì¹˜ì§€ ì•Šê³ , ê·¸ ì–¸ì–´ê°€ ì–´ë–»ê²Œ ê°ì •Â·ë°ˆÂ·ë¬¸í™”ë¡œ ì¦ì‹í•˜ë©° ìƒˆë¡œìš´ ì„œë¸Œì»¬ì²˜ì  ì°½ì‘ë¬¼ë¡œ ë³€í˜•ë  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì‹¤í—˜ì ìœ¼ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.
                </p>
                <p>ë³¸ í”„ë¡œì íŠ¸ëŠ” ë°ì´í„°ì˜ ì‚¬íšŒì  ì˜ë¯¸ë¥¼ ì˜ˆìˆ ì  ì–¸ì–´ë¡œ ë²ˆì—­í•˜ë ¤ëŠ” ì‹œë„ì´ì, í•œêµ­ì–´ê°€ ê°€ì§„ ê°ì •ì Â·ë¬¸í™”ì  ì—ë„ˆì§€ì˜ ìˆœí™˜ êµ¬ì¡°ë¥¼ ë“œëŸ¬ë‚´ëŠ” í•˜ë‚˜ì˜ ì¥(å ´)ì…ë‹ˆë‹¤.</p>
            </div>
            <div class="data-info">
                <p>ë³¸ í”„ë¡œì íŠ¸ì—ì„œ ì°¸ê³ í•œ ë°ì´í„°ëŠ” K-HATERS ì½”í¼ìŠ¤ì…ë‹ˆë‹¤. ì´ ë°ì´í„°ì…‹ì€ ìˆ­ì‹¤ëŒ€í•™êµì˜ ìì—°ì–´ì²˜ë¦¬ ì—°êµ¬íŒ€(íœ´ë©”ì¸ ë© ë“±)ì´ êµ¬ì¶•í•œ ê²ƒìœ¼ë¡œ, í•œêµ­ì–´ ë‰´ìŠ¤ ëŒ“ê¸€ ì•½ 19ë§Œ ê±´ì„
                    ëŒ€ìƒìœ¼ë¡œ í•˜ì—¬ íƒ€ê¹ƒë³„ ê³µê²©ì„±(í˜ì˜¤) ì •ë„ë¥¼ í‰ê°€í•œ ë¼ë²¨ë§ ë°ì´í„°ì…ë‹ˆë‹¤.</p>
                <p>arXiv: <a href="https://arxiv.org/abs/2310.15439"
                        target="_blank">https://arxiv.org/abs/2310.15439</a></p>
            </div>
        </div>

        <a href="https://jisu1745.github.io/jisujisu/new_dat_vis.html" target="_blank" class="data-vis-card">
            <div class="data-vis-thumbnail"></div>
            <h3 class="data-vis-title">data visualization</h3>
            <p class="data-vis-subtitle">í‘œí˜„ ì—ë„ˆì§€ vs í˜ì˜¤ ë ˆë²¨</p>
        </a>

        <!-- âœ… ëª¨ë¸ ìƒíƒœ í‘œì‹œ -->
        <div id="modelStatus">â³ ëª¨ë¸ ìƒíƒœ ë¡œë”© ì¤‘...</div>

        <div class="game-container" id="gameContainer"></div>
        <div class="info-drop">
            <details>
                <summary>
                    <span>ë¼ë²¨ êµ¬ë¶„ ê¸°ì¤€</span>
                    <span class="summary-right">
                        <span class="hint">Normal / Offensive / L1 / L2</span>
                        <span class="chev" aria-hidden="true"></span>
                    </span>
                </summary>
                <div class="content">
                    <p>
                        ë„¤ì´ë²„ ë‰´ìŠ¤ì˜ ëŒ“ê¸€ë“¤ì´ <b>3ë‹¨ê³„ ê²Œì´íŠ¸(íŒì • íŠ¸ë¦¬)</b>ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.
                        ë¨¼ì € ê³µê²©ì  í†¤ì´ ìˆëŠ”ì§€(<b>Offensive ì—¬ë¶€</b>)ë¥¼ ë³´ê³ , ê·¸ ë‹¤ìŒ ê³µê²©ì´
                        <b>íŠ¹ì • íƒ€ê¹ƒ ì§‘ë‹¨(
                            <span style="color:#20ff00;">ì„±ë³„</span>Â·
                            <span style="color:#0000ff;">ë‚˜ì´</span>Â·
                            <span style="color:#00ffff;">ì¸ì¢…/ì¶œì‹ </span>Â·
                            <span style="color:#f3ff00;">ì¢…êµ</span>Â·
                            <span style="color:#ffa4ff;">ì •ì¹˜</span>Â·
                            <span style="color:#9848ff;">ì§ì—…</span>
                            ë“±
                            )</b>ì„ ê²¨ëƒ¥í•˜ëŠ”ì§€(<b>Target ì—¬ë¶€</b>)ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
                    </p>
                    <p style="margin-top:10px; color:rgba(222, 214, 210, 0.813);text-align:center;">
                        í˜ì˜¤ ìˆ˜ì¤€ë³„ íƒ€ê¹ƒ ì§‘ë‹¨ ë¶„í¬ ì§€ë„ê°€ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´
                        ì €í¬ <a href="https://jisu1745.github.io/jisujisu/new_dat_vis.html" target="_blank"
                            class="rainbow-link">
                            ë°ì´í„° ì‹œê°í™” í˜ì´ì§€
                        </a>ë¥¼ í™•ì¸í•´ ë³´ì‹­ì‹œì˜¤!
                    </p>

                    <div class="khaters-fig">
                        <figure>
                            <img src="./assets/khaters_fig1.png" alt="K-HATERS Figure 1 - labeling process">
                        </figure>
                        <figure>
                            <img src="./assets/khaters_fig2.png" alt="K-HATERS Figure 2 - decision flow">
                            <div class="khaters-fig-source">
                                [Soongsil HUMANE Lab, arXiv:2310.15439, Fig. 1â€“2]
                            </div>
                        </figure>

                    </div>
                    <p>
                        Offensiveì§€ë§Œ íƒ€ê¹ƒì´ ì• ë§¤í•˜ë©´ <b>Offensive</b>ë¡œ ë©ˆì¶”ê³ , íƒ€ê¹ƒì´ ë¶„ëª…í•˜ë©´ í˜ì˜¤(L1/L2)ë¡œ ë¶„ê¸°í•©ë‹ˆë‹¤.
                        ë§ˆì§€ë§‰ìœ¼ë¡œ <b>ìœ„í˜‘(threat)</b> ì¶•ì´ ê°•í•˜ê²Œ ê°ì§€ë˜ë©´ <b>L2 Hate</b>, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ <b>L1 Hate</b>ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </details>

            <details>
                <summary>
                    <span>ì´ ê²Œì„ì€ ì–´ë–»ê²Œ êµ¬í˜„ë˜ì–´ ìˆë‚˜ìš”?</span>
                    <span class="summary-right">
                        <span class="hint">ì •ì  ì›¹ Â· ë¡œì»¬ ì¶”ë¡ </span>
                        <span class="chev" aria-hidden="true"></span>
                    </span>
                </summary>
                <div class="content">
                    <p>
                        ëŒ“ê¸€ ë¶„ì„ì€
                        <b>ë¸Œë¼ìš°ì € ì•ˆì—ì„œ ë°”ë¡œ</b> ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
                        ì…ë ¥í•œ ë¬¸ì¥ì€ ê¸€ì ë‹¨ìœ„ì˜ íŠ¹ì§•ìœ¼ë¡œ ë°”ë€ ë’¤
                        (ë¬¸ì n-gram 3~5, CountVectorizer ë°©ì‹),
                        ë¯¸ë¦¬ í•™ìŠµí•´ ë‘” ëª¨ë¸ê³¼ ê³„ì‚°ë˜ì–´
                        ê° ë¶„ë¥˜ì— ëŒ€í•œ í™•ë¥ ì„ ë§Œë“­ë‹ˆë‹¤
                        (ì„ í˜• ë¶„ë¥˜ê¸°, SGD ê¸°ë°˜ ë¡œì§€ìŠ¤í‹± íšŒê·€).
                    </p>

                    <p>
                        ëª¨ë¸ì€
                        (1) ê³µê²©ì ì¸ í‘œí˜„ì¸ì§€,
                        (2) ì„±ë³„Â·ë‚˜ì´Â·ì§ì—… ë“± íŠ¹ì • íƒ€ê¹ƒì„ ê²¨ëƒ¥í–ˆëŠ”ì§€,
                        (3) ìš•ì„¤Â·ëª¨ìš•Â·ìœ„í˜‘ ê°™ì€ í‘œí˜„ì˜ ê°•ë„ë¥¼ ì°¨ë¡€ë¡œ íŒë‹¨í•œ ë’¤,
                        ë…¼ë¬¸ì—ì„œ ì œì•ˆëœ íŠ¸ë¦¬ í˜•íƒœì˜ ê·œì¹™ì— ë”°ë¼
                        ìµœì¢… ë¼ë²¨ì„ ê²°ì •í•©ë‹ˆë‹¤.
                    </p>

                    <p>
                        ëŒ“ê¸€ ë‚´ìš©ì€ ì™¸ë¶€ë¡œ ì „ì†¡ë˜ê±°ë‚˜ ì €ì¥ë˜ì§€ ì•Šìœ¼ë©°,
                        ì´ í˜ì´ì§€ì— í¬í•¨ëœ ëª¨ë¸ íŒŒì¼ë§Œì„ ë¶ˆëŸ¬ì™€
                        (meta / vocab / bin íŒŒì¼),
                        <b>ëª¨ë“  ì²˜ë¦¬ê°€ í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ</b> ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
                        ì•ˆì‹¬í•˜ê³  ììœ ë¡­ê²Œ ì‘ì„±í•˜ì…”ë„ ë©ë‹ˆë‹¤.
                    </p>

                </div>
            </details>
        </div>
        <div class="vampire-description">
            <p>ë‹¹ì‹ ì˜ ëŒ“ê¸€ ìˆ˜ì¤€ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì´ ë¶„ë¥˜ë©ë‹ˆë‹¤.</p>
        </div>
        <div class="vampire-image">
            <a href="Normal.html" style="text-decoration:none;">
                <div class="vampire-box" style="cursor:pointer;">
                    <div class="vampire-placeholder"></div>
                    <div class="vampire-label">Normal</div>
                </div>
            </a>
            <a href="offensive.html" style="text-decoration:none;">
                <div class="vampire-box" style="cursor:pointer;">
                    <div class="vampire-placeholder"></div>
                    <div class="vampire-label">Offensive</div>
                </div>
            </a>
            <a href="L1_hate.html" style="text-decoration:none;">
                <div class="vampire-box" style="cursor:pointer;">
                    <div class="vampire-placeholder"></div>
                    <div class="vampire-label">L1_Hate</div>
                </div>
            </a>
            <a href="L2_hate.html" style="text-decoration:none;">
                <div class="vampire-box" style="cursor:pointer;">
                    <div class="vampire-placeholder"></div>
                    <div class="vampire-label">L2_Hate</div>
                </div>
            </a>
        </div>

        <div class="ethical-note">
            <p>ë³¸ í”„ë¡œì íŠ¸ëŠ” ì›ë¬¸ì„ ê·¸ëŒ€ë¡œ ë³µì œí•˜ì§€ ì•Šê³ , í•´ë‹¹ ë°ì´í„°ì…‹ì„ ê¸°ë°˜ìœ¼ë¡œ ì–¸ì–´íŠ¹ì„±ê³¼ íŒ¨í„´ì„ ë¶„ì„Â·ì¬í•´ì„í•˜ì˜€ìœ¼ë©°, ëª¨ë“  ì‹œê°í™” ë° ì°½ì‘ ê³¼ì •ì—ì„œëŠ” ê°œì¸ì‹ë³„ì •ë³´ ì œê±°, ë§¥ë½ ê²€í†  ë° ìœ¤ë¦¬ì  ê²€í† 
                ê³¼ì •ì„ ê±°ì³¤ìŠµë‹ˆë‹¤.</p>
            <p>ë³¸ ì„¤ëª…ì€ ì›¹ì‚¬ì´íŠ¸ì— ì¶œì²˜ ë° ìœ¤ë¦¬ì  ì²˜ë¦¬ ê³¼ì •ì„ íˆ¬ëª…í•˜ê²Œ ì œì‹œí•˜ê¸° ìœ„í•œ ì˜ë„ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="poem">
            <p>Data reference: K-HATERS (Soongsil University HUMANE Lab) â€“ used for research and visualization purposes
                under academic reference.</p>
            <p>All original comments have been de-identified and aggregated. No individual comment is presented in its
                full form.</p>
        </div>

        <div class="footer">
            <p>Â© This Site was created by <a href="#">Trance Media</a></p>
        </div>
    </div>

    <script>
        const articles = [
            {
                id: "1", category: "ì—°ì˜ˆ", icon: "ğŸ‘¥", title: "Aê¸‰ ë°°ìš° â—‹â—‹, ì´¬ì˜ í˜„ì¥ ìŠ¤íƒœí”„ í­í–‰ ì˜í˜¹â€¦'ì†ì°Œê²€ì€ ë²„ë¦‡' ì¦ì–¸ ì´ì–´ì ¸",
                body: "ì§€ë‚œ 12ì¼ ì§„í–‰ëœ ë“œë¼ë§ˆ ì´¬ì˜ í˜„ì¥ì—ì„œ Aê¸‰ ë°°ìš° â—‹â—‹ì´ ìŠ¤íƒœí”„ì—ê²Œ ìš•ì„¤ê³¼ í­í–‰ì„ í–ˆë‹¤ëŠ” ì£¼ì¥ì´ ì œê¸°ëë‹¤. í˜„ì¥ ê´€ê³„ìì— ë”°ë¥´ë©´ â—‹â—‹ì€ ì´¬ì˜ì´ ì§€ì—°ë˜ì ë¶„ë…¸ë¥¼ ì°¸ì§€ ëª»í•´ ìŠ¤íƒœí”„ì˜ ì–´ê¹¨ë¥¼ ë°€ì¹˜ê³ , ì´ì–´ ê³ ì„±ì„ ì§ˆë €ë‹¤ê³  í•œë‹¤. ì¼ë¶€ ìŠ¤íƒœí”„ë“¤ì€ 'ì´ë²ˆì´ ì²˜ìŒì´ ì•„ë‹ˆë‹¤', 'í‰ì†Œì—ë„ ë¶ˆë§Œ ìˆìœ¼ë©´ ë¬¼ê±´ì„ ë˜ì¡Œë‹¤'ê³  ì¦ì–¸í–ˆë‹¤. ì†Œì†ì‚¬ëŠ” 'ì‚¬ì‹¤ë¬´ê·¼ì´ë©° ê°•ê²½ ëŒ€ì‘í•˜ê² ë‹¤'ê³  ë°í˜”ë‹¤. í•˜ì§€ë§Œ í˜„ì¥ ì˜ìƒìœ¼ë¡œ ì¶”ì •ë˜ëŠ” í´ë¦½ì´ ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì— í¼ì§€ë©´ì„œ ë…¼ë€ì€ ë”ìš± ì»¤ì§€ëŠ” ìƒí™©ì´ë‹¤."
            },
            {
                id: "2", category: "ì •ì¹˜", icon: "ğŸ“ˆ", title: "'ì¥ê´€ ì•„ë“¤, ì™¸êµë¶€ íŠ¹ì±„ë¡œ ë“¤ì–´ê°”ë‹¤?'â€¦ì¸ì‚¬ ë¹„ë¦¬ ì˜í˜¹ì— êµ­ë¯¼ ë¶„ë…¸",
                body: "ì™¸êµë¶€ê°€ ìµœê·¼ ë°œí‘œí•œ ê²½ë ¥ì§ íŠ¹ë³„ì±„ìš© ëª…ë‹¨ì— ëª¨ ì¥ê´€ì˜ ì•„ë“¤ì´ í¬í•¨ë˜ë©´ì„œ íŠ¹í˜œ ì˜í˜¹ì´ ë¶ˆê±°ì§€ê³  ìˆë‹¤. ì™¸êµë¶€ ë‚´ë¶€ì—ì„œëŠ” 'í‰ê°€í‘œë„ ì•ˆ ë³´ê³  ëª…ë‹¨ì— ì˜¬ë¼ì™”ë‹¤'ëŠ” ì¦ì–¸ê¹Œì§€ ë‚˜ì™”ë‹¤. ì•¼ë‹¹ì€ 'ì „í˜•ì ì¸ ë‚™í•˜ì‚° ì±„ìš©'ì´ë¼ë©° ì „ë©´ ì¡°ì‚¬ ì´‰êµ¬ì— ë‚˜ì„°ê³ , ì—¬ë‹¹ì€ 'ì‚¬ì‹¤ í™•ì¸ ì¤‘'ì´ë¼ëŠ” ì…ì¥ë§Œ ë‚´ë†“ì•˜ë‹¤. ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” 'ë˜ ê¸ˆìˆ˜ì €ëƒ', 'ì´ë²ˆì—ë„ ë¬»ê³  ê°€ëŠ” ê±° ì•„ë‹ˆëƒ'ëŠ” ë¹„ë‚œì´ ì´ì–´ì§€ê³  ìˆë‹¤. ì™¸êµë¶€ëŠ” ê³µì‹ í•´ëª…ì„ ì˜ˆê³ í–ˆì§€ë§Œ, ë…¼ë€ì€ ì‰½ì‚¬ë¦¬ ê°€ë¼ì•‰ì§€ ì•Šì„ ì „ë§ì´ë‹¤."
            },
            {
                id: "3", category: "ì‚¬íšŒ", icon: "ğŸ’¬", title: "14ì„¸ ì¤‘í•™ìƒ, ê±°ë¦¬ í­í–‰ ì‚¬ê±´â€¦'ì´‰ë²•ì†Œë…„ ì œë„ íì§€í•´ì•¼' ì²­ì› í­ì£¼",
                body: "â—‹â—‹ ì‹œë‚´ì—ì„œ ë˜ë‹¤ì‹œ 10ëŒ€ í•™ìƒë“¤ì˜ ì§‘ë‹¨ í­í–‰ ì‚¬ê±´ì´ ë°œìƒí•´ ë…¼ë€ì´ ì¼ê³  ìˆë‹¤. ê°€í•´ í•™ìƒì€ 14ì„¸ë¡œ ì´‰ë²•ì†Œë…„ì— í•´ë‹¹ë¼ í˜•ì‚¬ì²˜ë²Œì„ ë°›ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì— ì‹œë¯¼ë“¤ì˜ ë¶„ë…¸ê°€ í­ë°œí–ˆë‹¤. ì²­ì™€ëŒ€ ì²­ì› ê²Œì‹œíŒì—ëŠ” 'ì´‰ë²•ì†Œë…„ ì œë„ë¥¼ ì—„ê²©íˆ ê°œí¸í•´ì•¼ í•œë‹¤'ëŠ” ê¸€ì´ í­ì¦í•˜ë©° í•˜ë£¨ ë§Œì— 30ë§Œ ëª…ì„ ë„˜ê²¼ë‹¤. ì „ë¬¸ê°€ë“¤ì€ 'ì—„ë²Œì£¼ì˜ ì—¬ë¡ ê³¼ ì•„ë™ ë³´í˜¸ê°€ ì¶©ëŒí•˜ëŠ” ë³µì¡í•œ ë¬¸ì œ'ë¼ê³  ì§€ì í–ˆë‹¤."
            },
            {
                id: "4", category: "IT", icon: "ğŸ’»", title: "ëŒ€í•™ ì¤‘ê°„ê³ ì‚¬ì„œ AI ë‹µì•ˆ ëŒ€ëŸ‰ ì ë°œâ€¦'ì ˆë°˜ì´ AIì— ë§¡ê²¼ë‹¤' ì¶©ê²©",
                body: "êµ­ë‚´ í•œ ëŒ€í•™êµì—ì„œ ì¤‘ê°„ê³ ì‚¬ ë‹µì•ˆì˜ ì ˆë°˜ ì´ìƒì´ AI ëª¨ë¸ì„ í†µí•´ ìƒì„±ëœ ê²ƒìœ¼ë¡œ í™•ì¸ë˜ë©° ë…¼ë€ì´ ê±°ì„¸ì§€ê³  ìˆë‹¤. êµìˆ˜ì§„ì€ 'ë¬¸ì¥ êµ¬ì¡°Â·íŒ¨í„´ì´ ë„ˆë¬´ ìœ ì‚¬í•´ ë°”ë¡œ ê°ì§€í•  ìˆ˜ ìˆì—ˆë‹¤'ê³  ë°í˜”ë‹¤. ì¼ë¶€ í•™ìƒë“¤ì€ 'ê·œì •ì´ ëª¨í˜¸í–ˆë‹¤'ë©° ì±…ì„ì„ í•™êµ ì¸¡ì— ëŒë ¸ê³ , ë‹¤ë¥¸ í•™ìƒë“¤ì€ 'ì„±ì‹¤í•œ í•™ìƒë“¤ë§Œ ë°”ë³´ ë§Œë“¤ì—ˆë‹¤'ë©° ë¶„ë…¸ë¥¼ í‘œí–ˆë‹¤. ì˜¨ë¼ì¸ì—ì„œëŠ” 'êµìœ¡ì´ ëë‚¬ë‹¤', 'ì‹œí—˜ì´ ì•„ë‹ˆë¼ AI ë°°í‹€'ì´ë¼ëŠ” ë°˜ì‘ì´ ì´ì–´ì§€ê³  ìˆë‹¤."
            }
        ];

        const labelInfo = {
            NORMAL: { title: "ë‹¹ì‹ ì˜ ëŒ“ê¸€ì€ Normal íƒ€ì…ì…ë‹ˆë‹¤ âœ¨", description: "ê°ˆë“±ì„ ì¤„ì´ê³  ë§¥ë½ì„ ê³ ë ¤í•˜ëŠ” ë¹„êµì  ì˜¨í™”í•œ ë§íˆ¬ì…ë‹ˆë‹¤.", emoji: "ğŸ˜Š", url: "Normal.html" },
            OFFENSIVE: { title: "ë‹¹ì‹ ì˜ ëŒ“ê¸€ì€ Offensive(ëƒ‰ì†Œ/ë¹„ê¼¼) íƒ€ì…ì…ë‹ˆë‹¤ ğŸ˜", description: "ì§ì„¤ì ì´ë©° ê°€ë²¼ìš´ ë¹„ë‚œê³¼ ëƒ‰ì†Œê°€ ì„ì¸ ëŒ“ê¸€ ì„±í–¥ì…ë‹ˆë‹¤.", emoji: "ğŸ˜’", url: "offensive.html" },
            L1_HATE: { title: "ë‹¹ì‹ ì˜ ëŒ“ê¸€ì€ L1 Hate(ê°€ë²¼ìš´ í˜ì˜¤) íƒ€ì…ì…ë‹ˆë‹¤ âš ï¸", description: "ì§‘ë‹¨/ì„¸ëŒ€/ì§€ì—­ì„ ë†ë‹´ì²˜ëŸ¼ ë¬¶ì–´ ë§í•˜ëŠ” ê²½í–¥ì´ ê°ì§€ë©ë‹ˆë‹¤.", emoji: "ğŸ˜ ", url: "L1_hate.html" },
            L2_HATE: { title: "ë‹¹ì‹ ì˜ ëŒ“ê¸€ì€ L2 Hate(ì§ì ‘ì  í˜ì˜¤) íƒ€ì…ì…ë‹ˆë‹¤ ğŸš¨", description: "ë°°ì œì ì´ê³  ê³µê²©ì ì¸ í‘œí˜„ì´ í¬í•¨ëœ ê°•í•œ í˜ì˜¤ ë°œí™”ì…ë‹ˆë‹¤.", emoji: "ğŸ¤¬", url: "L2_hate.html" }
        };

        let currentPhase = "HOME";
        let selectedArticle = null;
        let lastComment = "";
        let lastLabel = null;

        const gameContainer = document.getElementById('gameContainer');

        function decideFinalLabel(out) {
            // out: KhatersModel.predict ê²°ê³¼
            // out.label4: 4-class ì§ì ‘ ì˜ˆì¸¡(normal/offensive/L1_hate/L2_hate)
            // out.debug.pLabel: 4-class softmax í™•ë¥  ë°°ì—´
            // out.pOff, out.debug.maxTarget, out.debug.pThreat

            const pLabel = out.debug?.pLabel ?? [];
            const bestP = pLabel.length ? Math.max(...pLabel) : 0;

            // 1) 4-classê°€ ì¶©ë¶„íˆ í™•ì‹  ìˆìœ¼ë©´ ê·¸ê±¸ ìš°ì„ ìœ¼ë¡œ ì‚¬ìš©
            if (bestP >= 0.55) {
                return out.label4;
            }

            // 2) í™•ì‹ ì´ ë‚®ìœ¼ë©´ ë…¼ë¬¸ì‹ ê²Œì´íŠ¸(ë³´ì¡°)ë¡œ ì²˜ë¦¬
            const pOff = out.pOff ?? 0;
            const maxTarget = out.debug?.maxTarget ?? 0;
            const pThreat = out.debug?.pThreat ?? 0;

            if (pOff < 0.6) return "normal";
            if (maxTarget < 0.65) return "offensive";
            if (pThreat >= 0.55) return "L2_hate";
            return "L1_hate";
        }


        function renderHome() {
            gameContainer.innerHTML = `
        <div class="game-home">
          <h1 class="game-title">K-Haters ëŒ“ê¸€ í…ŒìŠ¤íŠ¸</h1>
          <p class="game-subtitle">ë‹¹ì‹ ì˜ ëŒ“ê¸€ ìˆ˜ì¤€ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
          <p style="font-size:0.9em; color:rgba(255,255,255,0.7); margin-top:10px;">
            ë‰´ìŠ¤ë¥¼ ì„ íƒí•˜ê³  ëŒ“ê¸€ì„ ì‘ì„±í•˜ë©´ AIê°€ ë¶„ì„í•©ë‹ˆë‹¤
          </p>
          <div class="articles-grid">
            ${articles.map(a => `
              <div class="article-card" onclick="handleSelectArticle('${a.id}')">
                <div class="article-category">${a.icon} ${a.category}</div>
                <h3 class="article-title">${a.title}</h3>
                <p class="article-body">${a.body}</p>
              </div>
            `).join('')}
          </div>
        </div>
      `;
        }

        window.handleSelectArticle = function (articleId) {
            selectedArticle = articles.find(a => a.id === String(articleId));
            currentPhase = "ARTICLE";
            renderArticle();
        };

        function renderArticle() {
            if (!selectedArticle) return;
            gameContainer.innerHTML = `
        <div class="game-article-view">
          <button class="back-button" onclick="handleBackToHome()">â† ë‰´ìŠ¤ í™ˆìœ¼ë¡œ</button>
          <div class="article-content">
            <div class="article-category">${selectedArticle.icon} ${selectedArticle.category}</div>
            <h2 class="article-title" style="font-size:1.8em; margin-bottom:20px;">${selectedArticle.title}</h2>
            <p style="color:rgba(255,255,255,0.9); line-height:1.8; font-size:1.1em;">${selectedArticle.body}</p>
            <div class="comment-section">
              <h3 style="font-size:1.3em; margin-bottom:15px; font-weight:500;">ğŸ’¬ ëŒ“ê¸€ ì‘ì„±</h3>
              <textarea id="commentInput" class="comment-textarea"
                placeholder="ì´ ê¸°ì‚¬ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ë³´ì„¸ìš”..."></textarea>
              <button class="submit-button" onclick="handleSubmitComment()" id="submitBtn">ëŒ“ê¸€ ë“±ë¡í•˜ê¸°</button>
            </div>
          </div>
        </div>
      `;
        }

        function renderLoading() {
            gameContainer.innerHTML = `
        <div class="loading-screen">
          <div class="spinner"></div>
          <h2 style="font-size:1.8em; margin-bottom:10px; font-weight:500;">ëŒ“ê¸€ ë¶„ì„ ì¤‘...</h2>
          <p style="color:rgba(255,255,255,0.7);">AIê°€ ë‹¹ì‹ ì˜ ëŒ“ê¸€ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤</p>
        </div>
      `;
        }

        function renderResult() {
            if (!lastLabel) return;
            const info = labelInfo[lastLabel];

            // ëª¨ë“  íƒ€ì…ì— ëŒ€í•´ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™
            if (info.url) {
                setTimeout(() => window.location.href = info.url, 2000);
            }

            const dbg = window._lastDebug ? `
        <div style="margin-top:12px; font-size:0.85em; color:rgba(255,255,255,0.7); text-align:left;">
          <div>confidence: ${window._lastDebug.conf.toFixed(3)}</div>
          <div>nnz: ${window._lastDebug.nnz}</div>
          <div>targets: ${(window._lastDebug.targets || []).map(t => `${t.name}(${t.p.toFixed(2)})`).join(", ")}</div>
        </div>` : "";

            gameContainer.innerHTML = `
        <div class="result-screen">
          <div class="result-card">
            <div class="result-emoji">${info.emoji}</div>
            <h2 class="result-title">${info.title}</h2>
            <p class="result-description">${info.description}</p>
            <div class="comment-preview">
              <p class="comment-preview-label">ì‘ì„±í•œ ëŒ“ê¸€:</p>
              <p class="comment-preview-text">"${lastComment}"</p>
            </div>
            <p style="margin-top: 20px; color: rgba(255,255,255,0.8);">ì ì‹œ í›„ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤...</p>
            ${dbg}
            <div class="result-buttons">
              <button class="result-button result-button-secondary" onclick="handleBackToArticle()">â† ì´ ê¸°ì‚¬ë¡œ ëŒì•„ê°€ê¸°</button>
              <button class="result-button result-button-primary" onclick="handleBackToHome()">ğŸ  ë‰´ìŠ¤ í™ˆìœ¼ë¡œ</button>
            </div>
          </div>
        </div>
      `;
        }

        window.handleBackToArticle = function () {
            currentPhase = "ARTICLE";
            renderArticle();
        };

        window.handleBackToHome = function () {
            currentPhase = "HOME";
            selectedArticle = null;
            lastComment = "";
            lastLabel = null;
            renderHome();
        };

        // âœ… ëª¨ë¸ ì¤€ë¹„ ë³´ì¥ submit
        window.handleSubmitComment = function () {
            const input = document.getElementById('commentInput');
            if (!input || !input.value.trim()) return;

            lastComment = input.value;
            currentPhase = "LOADING";
            renderLoading();

            setTimeout(() => {
                // âœ… combinedë¥¼ ì—¬ê¸°ì„œ ì •ì˜
                const combined =
                    `[COMMENT] ${lastComment}\n[TITLE] ${selectedArticle?.title ?? ""}`;


                // âœ… ëª¨ë¸ ë¡œë“œ í™•ì¸
                if (!window.KhatersModel) {
                    console.error("Model not loaded yet");
                    lastLabel = "OFFENSIVE";
                    currentPhase = "RESULT";
                    renderResult();
                    return;
                }

                const out = window.KhatersModel.predict(combined, {
                    offensiveThreshold: 0.5,
                    targetGate: 0.45,
                    l2ThreatGate: 0.45,
                    debug: true
                });

                const map = {
                    normal: "NORMAL",
                    offensive: "OFFENSIVE",
                    L1_hate: "L1_HATE",
                    L2_hate: "L2_HATE"
                };
                const final = decideFinalLabel(out); // normal/offensive/L1_hate/L2_hate
                lastLabel = map[final] ?? "NORMAL";

                // ë””ë²„ê·¸ ì €ì¥(ì›í•˜ë©´ í™”ë©´ì— í‘œì‹œ ê°€ëŠ¥)
                window._dbg = out;

                currentPhase = "RESULT";
                renderResult();
            }, 200);
        };


        renderHome();
    </script>

    <script type="module">
        import { KhatersModel } from "./model_runtime_v3.js?v=20251213_FIXED_2";
        window.KhatersModel = KhatersModel;

        // Load model immediately
        await KhatersModel.load("./model");
        console.log("âœ… KhatersModel v3 loaded");

        // Update status UI
        const el = document.getElementById("modelStatus");
        if (el) el.textContent = "âœ… ëª¨ë¸ ë¡œë”© ì™„ë£Œ (v3)";

        // Background video autoplay
        const bgVideo = document.querySelector('.video-background');
        if (bgVideo) {
            bgVideo.play().catch(e => console.log('BG video:', e));
        }
    </script>
</body>

</html>
